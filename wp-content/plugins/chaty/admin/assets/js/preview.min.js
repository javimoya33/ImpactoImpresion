var previewChannelList=[],advanceCustomCSS="",chtIframeData="";function change_custom_preview(){var a=[];if(jQuery("#channels-selected-list > li.chaty-channel").each(function(){a.push(jQuery(this).attr("data-id"))}),a=a.join(","),jQuery("#cht_numb_slug").val(a),jQuery(".main .channels-icons > .icon.custom-link").length!=jQuery(".main .channels-icons > .icon.custom-link.active").length&&jQuery(".custom-channel-button").show(),jQuery("#trigger_on_time").is(":checked")?jQuery("#chaty_trigger_time").prop("disabled",!1):jQuery("#chaty_trigger_time").prop("disabled",!0),jQuery("#chaty_trigger_on_scroll").is(":checked")?jQuery("#chaty_trigger_on_page_scroll").prop("disabled",!1):jQuery("#chaty_trigger_on_page_scroll").prop("disabled",!0),"open"==jQuery("#chaty_default_state").val()&&jQuery("#channel-list > .icon.active").length>1?(jQuery("#chaty_attention_effect").val(""),jQuery("#chaty_attention_effect, .test_textarea").attr("disabled",!0),jQuery("#chaty_attention_effect option:first-child").text("Doesn't apply for the open state"),"Doesn't apply for the open state"!=jQuery(".test_textarea").val()&&jQuery(".test_textarea").attr("data-value",jQuery(".test_textarea").val()),jQuery(".test_textarea").val("Doesn't apply for the open state"),jQuery("#cht_number_of_messages").attr("disabled",!0),jQuery("#cht_pending_messages").attr("disabled",!0),jQuery(".disable-message").addClass("label-tooltip").addClass("icon"),jQuery("#cht_pending_messages").attr("checked",!1),jQuery(".pending-message-items").removeClass("active"),jQuery("#cta-action input").attr("disabled",!0)):(jQuery("#chaty_attention_effect, .test_textarea").attr("disabled",!1),jQuery("#chaty_attention_effect option:first-child").text("None"),jQuery(".test_textarea").attr("placeholder",""),"Doesn't apply for the open state"==jQuery(".test_textarea").val()&&jQuery(".test_textarea").val(jQuery(".test_textarea").attr("data-value")),jQuery("#cht_number_of_messages").attr("disabled",!1),jQuery("#cht_pending_messages").attr("disabled",!1),jQuery(".disable-message").removeClass("label-tooltip").removeClass("icon"),jQuery("#cta-action input").attr("disabled",!1)),jQuery(".chaty-bg-color").length&&jQuery(".chaty-bg-color").each(function(){"Instagram"==jQuery(this).closest(".chaty-channel").data("channel")?"#ffffff"!=jQuery(this).val()&&jQuery(this).closest("li.chaty-channel").find(".chaty-main-svg").find(".color-element").attr("fill",jQuery(this).val()):jQuery(this).closest("li.chaty-channel").find(".chaty-main-svg").find(".color-element").attr("fill",jQuery(this).val())}),jQuery(".agent-icon-color").length&&jQuery(".agent-icon-color").each(function(){"Instagram"==jQuery(this).closest(".chaty-channel").data("channel")?"#ffffff"!=jQuery(this).val()&&jQuery(this).closest("li.chaty-channel").find(".chaty-main-svg").find(".color-element").attr("fill",jQuery(this).val()):jQuery(this).closest("li.chaty-channel").find(".chaty-main-svg").find(".color-element").attr("fill",jQuery(this).val())}),jQuery(".chaty-preview").height(234),jQuery(".chaty-preview").html(""),previewChannelList=[],jQuery("#previewDesktop").is(":checked")?jQuery("#admin-preview .page").removeClass("mobile"):jQuery("#admin-preview .page").addClass("mobile"),jQuery("#channels-selected-list > li:not(.chaty-cls-setting)").length>=2?jQuery("#chaty-social-close").show():jQuery("#chaty-social-close").hide(),jQuery(".csaas-outer-forms").remove(),"open"==jQuery("#chaty_default_state").val()?jQuery(".hide-show-button").addClass("active"):jQuery(".hide-show-button").removeClass("active"),0==jQuery("#channel-list .icon.active").length?jQuery(".channel-empty-state").addClass("active"):jQuery(".channel-empty-state").removeClass("active"),jQuery("#channels-selected-list > li").length>0){advanceCustomCSS="";var s=getActiveChannels();if(s){var t=getWidgetPosition();t="right"==t?"right":"left";var e=getToolTipPosition();if("chat-view"==jQuery("input[name='cta_type']:checked").val()){var c="<div style='display: none' class='csaas csaas-has-chat-view csaas-id-0 csaas-widget-0 csaas-key-0' id='csaas-widget-0' data-key='0' data-id='0' data-identifier='0' data-nonce='0' ><div class='csaas-widget "+t+"-position'><div class='csaas-channels'><div class='csaas-i-trigger'></div></div></div></div>";jQuery(".chaty-preview").append(c),makeChatyChatView()}else{var c="<div style='display:none' class='csaas csaas-id-0 csaas-widget-0 csaas-key-0' id='csaas-widget-0' data-key='0' data-id='0' data-identifier='0' data-nonce='0' ><div class='csaas-widget "+t+"-position'><div class='csaas-channels'><div class='csaas-channel-list'></div><div class='csaas-i-trigger'></div></div></div></div>";jQuery(".chaty-preview").append(c)}if(1==previewChannelList.length&&"chat-view"!=jQuery("input[name='cta_type']:checked").val()){var i=getChannelSetting(previewChannelList[0],0,e);jQuery("#csaas-widget-0 .csaas-i-trigger").html(i),jQuery("#csaas-widget-0 .csaas-i-trigger").addClass("single-channel"),jQuery("#csaas-widget-0 .csaas-i-trigger .csaas-channel").addClass("single"),jQuery("#csaas-widget-0 .csaas-widget").addClass("has-single");var n=jQuery(".test_textarea").val();isEmpty(n)||(n=htmlDecode(n)),isEmpty(n)||(jQuery("#csaas-widget-0 .csaas-tooltip").removeClass("csaas-tooltip"),jQuery("#csaas-widget-0 .csaas-i-trigger .csaas-channel").attr("data-hover",n),jQuery("#csaas-widget-0 .csaas-i-trigger .csaas-channel").addClass("active").addClass("csaas-tooltip").addClass(e),jQuery("#csaas-widget-0 .csaas-i-trigger .csaas-channel").addClass("active").addClass("csaas-tooltip").addClass("pos-"+e),jQuery("#csaas-widget-0 .csaas-i-trigger .csaas-channel").append("<span class='on-hover-text'>"+n+"</span>").addClass("active").addClass("has-on-hover"),jQuery("#csaas-widget-0 .csaas-i-trigger .csaas-channel a").append("<span class='on-hover-text'>"+n+"</span>").addClass("has-on-hover"))}else{for(p=0;p<previewChannelList.length;p++){var o=previewChannelList[p];if("chat-view"==jQuery("input[name='cta_type']:checked").val()){var i=getChannelSetting(o,0,"top");jQuery(".csaas-chat-view-0 .csaas-view-channels").append(i)}else{var i=getChannelSetting(o,0,e);jQuery("#csaas-widget-0 .csaas-channel-list").append(i)}}var l=getCTAWidgetIcon(),n=jQuery(".test_textarea").val();"open"==jQuery("#chaty_default_state").val()&&(n="");var h=e;"horizontal"==jQuery("input[name='chaty_icons_view']:checked").val()&&(h="left"==t?"right":"left"),"chat-view"==jQuery("input[name='cta_type']:checked").val()&&("left"==t?(h="right",e="right"):(h="left",e="left")),isEmpty(n)||(n=htmlDecode(n));var d='<div class="csaas-channel csaas-cta-main has-on-hover csaas-tooltip '+h+' active" data-widget="0" ><span class="on-hover-text">'+n+'</span><div class="csaas-cta-button"><button type="button" class="open-csaas">'+l+'</button><button type="button" class="open-csaas-channel"></button></div></div>';jQuery("#csaas-widget-0 .csaas-i-trigger").html(d);var r='<div class="csaas-channel csaas-cta-close csaas-tooltip '+e+'" data-hover="'+jQuery("input[name='cht_close_button_text']").val()+'"><div class="csaas-cta-button"><button type="button"><span class="csaas-svg"><svg viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg"><ellipse cx="26" cy="26" rx="26" ry="26" fill="'+jQuery("input[name='cht_color']:checked").val()+'"></ellipse><rect width="27.1433" height="3.89857" rx="1.94928" transform="translate(18.35 15.6599) scale(0.998038 1.00196) rotate(45)" fill="white"></rect><rect width="27.1433" height="3.89857" rx="1.94928" transform="translate(37.5056 18.422) scale(0.998038 1.00196) rotate(135)" fill="white"></rect></svg></span></button></div></div>';jQuery("#csaas-widget-0 .csaas-i-trigger").append(r)}("open"!=jQuery("#chaty_default_state").val()||1==previewChannelList.length)&&(checkForPendingMessage(),checkForWidgetAnimation());var g=0;"open"!=jQuery("#chaty_default_state").val()||jQuery("#cht_close_button").is(":checked")||"simple-view"!=jQuery("input[name='cta_type']:checked").val()||(jQuery("#csaas-widget-0 .csaas-widget").addClass("csaas-no-close-button"),g=1),"hover"==jQuery("#chaty_default_state").val()?jQuery("#csaas-widget-0").addClass("open-on-hover"):"open"!=jQuery("#chaty_default_state").val()||(jQuery("#csaas-widget-0 .csaas-widget").addClass("default-open"),jQuery("#csaas-widget-0 .csaas-widget").addClass("csaas-open"),jQuery("#cht_close_button").is(":checked")||jQuery("#csaas-widget-0 .csaas-widget").addClass("csaas-open"));var v=parseInt(2*jQuery("#custom-widget-size-input").val()/3);if(advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list .csaas-channel {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list .csaas-channel .custom-csaas-image {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list .facustom-icon { width: "+v+"px; height: "+v+"px; line-height: "+v+"px; font-size:"+parseInt(v/2)+"px; text-align: center; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list .csaas-channel a img {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list .csaas-channel a {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list .csaas-channel .csaas-custom-icon {display:block; width: "+v+"px; height: "+v+"px; line-height: "+v+"px; font-size: "+parseInt(v/2)+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list .csaas-channel button {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list .csaas-channel .csaas-svg {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list .csaas-channel .custom-agent-image {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list .csaas-channel .facustom-icon {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list .csaas-channel .custom-agent-image img {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list .csaas-channel .csaas-svg img {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list .csaas-channel .csaas-svg .csaas-custom-channel-icon {width: "+v+"px; height: "+v+"px; line-height: "+v+"px; display: block; font-size:"+parseInt(v/2)+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channels .csaas-channel {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channels .csaas-channel .custom-csaas-image {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channels .facustom-icon { width: "+v+"px; height: "+v+"px; line-height: "+v+"px; font-size:"+parseInt(v/2)+"px; text-align: center; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channels .csaas-channel a img {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channels .csaas-channel a {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channels .csaas-channel .csaas-custom-icon {display:block; width: "+v+"px; height: "+v+"px; line-height: "+v+"px; font-size: "+parseInt(v/2)+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channels .csaas-channel button {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channels .csaas-channel .csaas-svg {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channels .csaas-channel .custom-agent-image {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channels .csaas-channel .facustom-icon {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channels .csaas-channel .custom-agent-image img {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channels .csaas-channel .csaas-svg img {width: "+v+"px; height: "+v+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channels .csaas-channel .csaas-svg .csaas-custom-channel-icon {width: "+v+"px; height: "+v+"px; line-height: "+v+"px; display: block; font-size:"+parseInt(v/2)+"px; }","horizontal"==jQuery("input[name='chaty_icons_view']:checked").val()&&"simple-view"==jQuery("input[name='cta_type']:checked").val()){jQuery("#csaas-widget-0 .csaas-widget").addClass("hor-mode"),advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list {width: "+s*(v+8)+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list {height: "+v+"px; }";for(var p=0;p<=s;p++)advanceCustomCSS+="#csaas-widget-0 .csaas-widget.left-position.hor-mode.csaas-open .csaas-channel-list .csaas-channel:nth-child("+(p+1)+") {-webkit-transform: translateX("+(v+8)*(s-p-g)+"px); transform: translateX("+(v+8)*(s-p-g)+"px);}",advanceCustomCSS+="#csaas-widget-0 .csaas-widget.right-position.hor-mode.csaas-open .csaas-channel-list .csaas-channel:nth-child("+(p+1)+") {-webkit-transform: translateX(-"+(v+8)*(s-p-g)+"px); transform: translateX(-"+(v+8)*(s-p-g)+"px);}"}else{advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list {height: "+s*(v+8)+"px; }",advanceCustomCSS+="#csaas-widget-0 .csaas-channel-list {width: "+(v+8)+"px; }";for(var p=0;p<=s;p++)advanceCustomCSS+="#csaas-widget-0 .csaas-open .csaas-channel-list .csaas-channel:nth-child("+(p+1)+") {-webkit-transform: translateY(-"+(v+8)*(s-p-g)+"px); transform: translateY(-"+(v+8)*(s-p-g)+"px);}"}advanceCustomCSS+="#csaas-widget-0 .csaas-tooltip:after {background-color: "+jQuery("#cht_cta_bg_color").val()+"; color: "+jQuery("#cht_cta_text_color").val()+"}",advanceCustomCSS+="#csaas-widget-0 .csaas-tooltip.top:before {border-top-color: "+jQuery("#cht_cta_bg_color").val()+"; }",advanceCustomCSS+="#csaas-widget-0 .csaas-tooltip.left:before {border-left-color: "+jQuery("#cht_cta_bg_color").val()+"; }",advanceCustomCSS+="#csaas-widget-0 .csaas-tooltip.right:before {border-right-color: "+jQuery("#cht_cta_bg_color").val()+";}",advanceCustomCSS+="#csaas-widget-0 .on-hover-text {background-color: "+jQuery("#cht_cta_bg_color").val()+"; color: "+jQuery("#cht_cta_text_color").val()+"}",advanceCustomCSS+="#csaas-widget-0 .csaas-tooltip.top .on-hover-text:before {border-top-color: "+jQuery("#cht_cta_bg_color").val()+"; }",advanceCustomCSS+="#csaas-widget-0 .csaas-tooltip.left .on-hover-text:before {border-left-color: "+jQuery("#cht_cta_bg_color").val()+"; }",advanceCustomCSS+="#csaas-widget-0 .csaas-tooltip.right .on-hover-text:before {border-right-color: "+jQuery("#cht_cta_bg_color").val()+";}",advanceCustomCSS+="#csaas-form-0-csaas-chat-view .csaas-view-header {background-color: "+jQuery("#cta_header_bg_color").val()+";}",advanceCustomCSS+="#csaas-form-0-csaas-chat-view .csaas-view-header {color: "+jQuery("#cta_header_text_color").val()+";}",advanceCustomCSS+="#csaas-form-0-csaas-chat-view .csaas-view-header .csaas-close-view-list svg {fill: "+jQuery("#cta_header_text_color").val()+";}",advanceCustomCSS+="#csaas-submit-button-0 {color: "+jQuery("#button_text_color_for_Contact_Us").val()+" !important; background: "+jQuery("#button_bg_color_for_Contact_Us").val()+" !important;}",updateWidgetViews(),jQuery("#custom-css").html("<style>"+advanceCustomCSS+"</style>"),jQuery(".csaas-outer-forms, .csaas-chat-view").show(),jQuery(".csaas-outer-forms, .csaas-chat-view").addClass(t),""!=jQuery("#cht_widget_font").val()&&jQuery("#csaas-widget-0").css("font-family",jQuery("#cht_widget_font").val())}}if(!1!=imageDataEvent&&""!=jQuery("#testUpload").val()&&"chat-image"==jQuery("input[name='widget_icon']:checked").val()&&jQuery("#cta-image").length){var m=document.getElementById("cta-image");m.src=URL.createObjectURL(imageDataEvent.target.files[0]),m.onload=function(){URL.revokeObjectURL(m.src)}}}function makeChatyChatView(){var a=0;null==a&&(a=-1);var s=htmlDecode(jQuery("#cta_body_text").val()),t=htmlDecode(jQuery("#cta_heading_text").val());s=jQuery("#wp-cta_body_text-wrap").find("iframe").contents().find("body").html();var e="";e+="<div style='display: none' class='csaas-chat-view csaas-chat-view-0 csaas-form-0' data-channel='csaas-chat-view' id='csaas-form-0-csaas-chat-view' data-widget='0' data-index='"+a+"'>",e+="<div class='csaas-view-body'>",e+="<div class='csaas-view-header'>"+t,e+="<div role='button' class='csaas-close-view-list'><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 330 330'><path d='M325.607 79.393c-5.857-5.857-15.355-5.858-21.213.001l-139.39 139.393L25.607 79.393c-5.857-5.857-15.355-5.858-21.213.001s-5.858 15.355 0 21.213l150.004 150a15 15 0 0 0 21.212-.001l149.996-150c5.859-5.857 5.859-15.355.001-21.213z'/></svg></div>",e+="</div>",e+="<div class='csaas-view-content'>",e+="<div class='csaas-top-content'>",e+=s,e+="</div>",e+="<div class='csaas-view-channels'>",e+="</div>",e+="</div>",e+="</div>",e+="</div>",jQuery("#csaas-widget-0").append(e)}function myCustomOnChangeHandler(){change_custom_preview()}function htmlDecode(a){return new DOMParser().parseFromString(a,"text/html").documentElement.textContent}function updateWidgetViews(){jQuery("#csaas-widget-0").addClass("active")}function checkForWidgetAnimation(){"none"!=jQuery("#chaty_attention_effect").val()&&""!=jQuery("#chaty_attention_effect").val()&&(jQuery("#csaas-widget-0").attr("data-animation",jQuery("#chaty_attention_effect").val()),jQuery("#csaas-widget-0 .csaas-widget").hasClass("has-single")?jQuery("#csaas-widget-0 .csaas-i-trigger .csaas-channel a").addClass("csaas-animation-"+jQuery("#chaty_attention_effect").val()):jQuery("#csaas-widget-0 .csaas-i-trigger .csaas-cta-main .csaas-cta-button").addClass("csaas-animation-"+jQuery("#chaty_attention_effect").val()))}function checkForPendingMessage(){if(jQuery("#cht_pending_messages").is(":checked")&&""!=jQuery("#cht_number_of_messages").val()){var a=jQuery("#chaty_attention_effect").val();jQuery("#csaas-widget-0 .csaas-widget").hasClass("has-single")?"bounce"==a||"jump"==a||"waggle"==a||"pulse"==a||"pulse-icon"==a?jQuery("#csaas-widget-0 .csaas-i-trigger .csaas-channel .csaas-icon").append("<span class='ch-pending-msg'>"+jQuery("#cht_number_of_messages").val()+"</span>"):jQuery("#csaas-widget-0 .csaas-i-trigger .csaas-channel a").after("<span class='ch-pending-msg'>"+jQuery("#cht_number_of_messages").val()+"</span>"):"bounce"==a||"jump"==a||"waggle"==a||"pulse"==a||"pulse-icon"==a?jQuery("#csaas-widget-0 .csaas-i-trigger .csaas-cta-main .csaas-cta-button").append("<span class='ch-pending-msg'>"+jQuery("#cht_number_of_messages").val()+"</span>"):jQuery("#csaas-widget-0 .csaas-i-trigger .csaas-cta-main").append("<span class='ch-pending-msg'>"+jQuery("#cht_number_of_messages").val()+"</span>"),jQuery(".ch-pending-msg").css("color",jQuery("#cht_number_color").val()),jQuery(".ch-pending-msg").css("background-color",jQuery("#cht_number_bg_color").val())}}function getCTAWidgetIcon(){var a="chat-base";if(""!=jQuery("input[name='widget_icon']:checked").val()&&(a=jQuery("input[name='widget_icon']:checked").val()),"chat-image"==a){if(jQuery("#elPreviewImage img").length)return"<span class='csaas-svg' style='background: "+jQuery("input[name='cht_color']:checked").val()+"'><img id='cta-image' src='"+jQuery("#elPreviewImage img").attr("src")+"' alt='Chaty Widget' /></span>";a="chat-base"}return'<span class="csaas-svg">'+getSvgIcon(a,jQuery("input[name='cht_color']:checked").val())+"</span>"}function getSvgIcon(a,s){switch(a){case"chat-smile":return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="-496.8 507.1 54 54" style="enable-background:new -496.8 507.1 54 54;" xml:space="preserve"><style type="text/css">.chaty-sts1{fill:#FFFFFF;} .chaty-sts2{fill:none;stroke:#808080;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;}</style><g><circle cx="-469.8" cy="534.1" r="27" fill="'+s+'"/></g><path class="chaty-sts1" d="M-459.5,523.5H-482c-2.1,0-3.7,1.7-3.7,3.7v13.1c0,2.1,1.7,3.7,3.7,3.7h19.3l5.4,5.4c0.2,0.2,0.4,0.2,0.7,0.2c0.2,0,0.2,0,0.4,0c0.4-0.2,0.6-0.6,0.6-0.9v-21.5C-455.8,525.2-457.5,523.5-459.5,523.5z"/><path class="chaty-sts2" d="M-476.5,537.3c2.5,1.1,8.5,2.1,13-2.7"/><path class="chaty-sts2" d="M-460.8,534.5c-0.1-1.2-0.8-3.4-3.3-2.8"/></svg>';case"chat-bubble":return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="-496.9 507.1 54 54" style="enable-background:new -496.9 507.1 54 54;" xml:space="preserve"><style type="text/css">.chaty-sts1{fill:#FFFFFF;}</style><g><circle  cx="-469.9" cy="534.1" r="27" fill="'+s+'"/></g><path class="chaty-sts1" d="M-472.6,522.1h5.3c3,0,6,1.2,8.1,3.4c2.1,2.1,3.4,5.1,3.4,8.1c0,6-4.6,11-10.6,11.5v4.4c0,0.4-0.2,0.7-0.5,0.9   c-0.2,0-0.2,0-0.4,0c-0.2,0-0.5-0.2-0.7-0.4l-4.6-5c-3,0-6-1.2-8.1-3.4s-3.4-5.1-3.4-8.1C-484.1,527.2-478.9,522.1-472.6,522.1z   M-462.9,535.3c1.1,0,1.8-0.7,1.8-1.8c0-1.1-0.7-1.8-1.8-1.8c-1.1,0-1.8,0.7-1.8,1.8C-464.6,534.6-463.9,535.3-462.9,535.3z   M-469.9,535.3c1.1,0,1.8-0.7,1.8-1.8c0-1.1-0.7-1.8-1.8-1.8c-1.1,0-1.8,0.7-1.8,1.8C-471.7,534.6-471,535.3-469.9,535.3z   M-477,535.3c1.1,0,1.8-0.7,1.8-1.8c0-1.1-0.7-1.8-1.8-1.8c-1.1,0-1.8,0.7-1.8,1.8C-478.8,534.6-478.1,535.3-477,535.3z"/></svg>';case"chat-db":return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="-496 507.1 54 54" style="enable-background:new -496 507.1 54 54;" xml:space="preserve"><style type="text/css">.chaty-sts1{fill:#FFFFFF;}</style><g><circle  cx="-469" cy="534.1" r="27" fill="'+s+'"/></g><path class="chaty-sts1" d="M-464.6,527.7h-15.6c-1.9,0-3.5,1.6-3.5,3.5v10.4c0,1.9,1.6,3.5,3.5,3.5h12.6l5,5c0.2,0.2,0.3,0.2,0.7,0.2c0.2,0,0.2,0,0.3,0c0.3-0.2,0.5-0.5,0.5-0.9v-18.2C-461.1,529.3-462.7,527.7-464.6,527.7z"/><path class="chaty-sts1" d="M-459.4,522.5H-475c-1.9,0-3.5,1.6-3.5,3.5h13.9c2.9,0,5.2,2.3,5.2,5.2v11.6l1.9,1.9c0.2,0.2,0.3,0.2,0.7,0.2c0.2,0,0.2,0,0.3,0c0.3-0.2,0.5-0.5,0.5-0.9v-18C-455.9,524.1-457.5,522.5-459.4,522.5z"/></svg>';default:return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="-496 507.7 54 54" style="enable-background:new -496 507.7 54 54;" xml:space="preserve"><style type="text/css">.chaty-sts1{fill: #FFFFFF;}.chaty-st0{fill: #808080;}</style><g><circle cx="-469" cy="534.7" r="27" fill="'+s+'"/></g><path class="chaty-sts1" d="M-459.9,523.7h-20.3c-1.9,0-3.4,1.5-3.4,3.4v15.3c0,1.9,1.5,3.4,3.4,3.4h11.4l5.9,4.9c0.2,0.2,0.3,0.2,0.5,0.2 h0.3c0.3-0.2,0.5-0.5,0.5-0.8v-4.2h1.7c1.9,0,3.4-1.5,3.4-3.4v-15.3C-456.5,525.2-458,523.7-459.9,523.7z"/><path class="chaty-st0" d="M-477.7,530.5h11.9c0.5,0,0.8,0.4,0.8,0.8l0,0c0,0.5-0.4,0.8-0.8,0.8h-11.9c-0.5,0-0.8-0.4-0.8-0.8l0,0C-478.6,530.8-478.2,530.5-477.7,530.5z"/><path class="chaty-st0" d="M-477.7,533.5h7.9c0.5,0,0.8,0.4,0.8,0.8l0,0c0,0.5-0.4,0.8-0.8,0.8h-7.9c-0.5,0-0.8-0.4-0.8-0.8l0,0C-478.6,533.9-478.2,533.5-477.7,533.5z"/></svg>'}}function getChannelSetting(a,s,t){if(jQuery("#chaty-social-"+a).hasClass("has-agent-view"))return createAgentList(a,s),e=getChannelIcon(a,s),c=getChannelURL(a,e,t,s),"<div data-form='csaas-form-"+s+"-"+a+"' class='csaas-channel csaas-agent-button csaas-agent-"+s+"-"+a+" "+a+"-channel' id='"+a+"-"+s+"-channel' data-id='"+a+"-"+s+"' data-widget='"+s+"' data-channel='"+a+"'>"+c+"</div>";var e=getChannelIcon(a,s),c=getChannelURL(a,e,t,s);return"<div class='csaas-channel "+a+"-channel' id='"+a+"-"+s+"-channel' data-id='"+a+"-"+s+"' data-widget='"+s+"' data-channel='"+a+"'>"+c+"</div>"}function createAgentList(a,s){jQuery("#previewDesktop").is(":checked");var t="";t+="<div style='display:none;' class='csaas-outer-forms csaas-agent-data csaas-agent-data-"+s+" csaas-form-"+s+"' data-channel='"+a+"' id='csaas-form-"+s+"-"+a+"' data-widget='"+s+"' data-index='0'>",t+="<div class='csaas-form'>",t+="<div class='csaas-form-body'>",t+="<div role='button' class='csaas-close-agent-list'><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 330 330' xmlns:v='https://vecta.io/nano'><path d='M325.607 79.393c-5.857-5.857-15.355-5.858-21.213.001l-139.39 139.393L25.607 79.393c-5.857-5.857-15.355-5.858-21.213.001s-5.858 15.355 0 21.213l150.004 150a15 15 0 0 0 21.212-.001l149.996-150c5.859-5.857 5.859-15.355.001-21.213z'/></svg></div>",t+="<div class='csaas-agent-header agent-info-"+s+"-"+a+"'>",isEmpty(jQuery("#cht_social_agent_title_"+a).val())||(t+="<div class='agent-main-header'>"+jQuery("#cht_social_agent_title_"+a).val()+"</div>"),isEmpty(jQuery("#cht_social_agent_sub_title_"+a).val())||(t+="<div class='agent-sub-header'>"+jQuery("#cht_social_agent_sub_title_"+a).val()+"</div>"),t+="</div>",jQuery("#chaty-social-"+a+" .chaty-agent-list .agent-list .agent-channel-setting").length&&jQuery("#chaty-social-"+a+" .chaty-agent-list .agent-list .agent-channel-setting").each(function(){var e=jQuery(this).data("item"),c=jQuery("#image_agent_data_"+a+"-"+e).html();c=jQuery("#image_agent_data_"+a+"-"+e).hasClass("img-active")?"<div class='chaty-icon img-active'>"+c+"</div>":jQuery("#image_agent_data_"+a+"-"+e).hasClass("icon-active")?"<div class='chaty-icon icon-active'>"+c+"</div>":"<div class='chaty-icon'>"+c+"</div>";var i=getAgentURL(a,s,e,c,jQuery("#agent-"+a+"-"+e+" .chaty-agent-name").val());t+="<div class='csaas-agent agent-info-"+s+"-"+a+" agent-info-"+e+"'>"+i+"</div>"}),t+="</div>",t+="</div>",t+="</div>",jQuery(".chaty-preview").append(t),jQuery(".csaas-agent-header.agent-info-"+s+"-"+a).css("background",jQuery("#agent_head_bg_color_"+a).val()),jQuery(".csaas-agent-header.agent-info-"+s+"-"+a).css("color",jQuery("#agent_head_text_color_"+a).val())}function getAgentURL(a,s,t,e,c){return"<a href='javascript:;' ><span class='csaas-agent-icon'>"+e+"</span><span class='csaas-agent-title'>"+c+"</span></a>"}function getChannelIcon(a,s){if(jQuery("#chaty-social-"+a).hasClass("has-agent-view")){if(jQuery("#image_agent_data_agent-"+a).length){var t=jQuery("#image_agent_data_agent-"+a).html();return jQuery("#image_agent_data_agent-"+a).hasClass("icon-active")?"<div class='chaty-icon icon-active'>"+t+"</div>":jQuery("#image_agent_data_agent-"+a).hasClass("img-active")?"<div class='chaty-icon img-active'>"+t+"</div>":"<div class='chaty-icon'>"+t+"</div>"}}else if(jQuery("#chaty_image_"+a).length){var t=jQuery("#chaty_image_"+a).html();return jQuery("#chaty_image_"+a).hasClass("icon-active")?"<div class='chaty-icon icon-active'>"+t+"</div>":jQuery("#chaty_image_"+a).hasClass("img-active")?"<div class='chaty-icon img-active'>"+t+"</div>":"<div class='chaty-icon'>"+t+"</div>"}}function getChannelURL(a,s,t,e){var c="";return(!jQuery("#chaty-social-"+a).hasClass("has-agent-view")&&("Whatsapp"==a?jQuery("#chaty-social-"+a+" .embedded_window-checkbox").is(":checked")&&""!=jQuery("#chaty-social-"+a+" .chaty-whatsapp-setting-textarea").val()&&(c+=" has-csaas-box csaas-whatsapp-form",startMakingWhatsAppPopup(a,e)):"WeChat"==a?jQuery(".remove-qr-code-"+a).hasClass("active")&&(c+=" has-csaas-box csaas-qr-code-form",startMakingWeChatChannel(a,0)):"Contact_Us"==a&&(c+=" has-csaas-box csaas-contact-us-form",startMakingContactForm(a,0))),jQuery("#chaty-social-"+a).hasClass("has-agent-view"))?"<a href='javascript:;' class='csaas-tooltip "+t+c+"' data-form='csaas-form-"+e+"-"+a+"' data-hover='"+jQuery("#cht_social_agent_text_"+a).val()+"'>"+s+"</a>":"<a href='javascript:;' class='csaas-tooltip "+t+c+"' data-form='csaas-form-"+e+"-"+a+"' data-hover='"+jQuery("#chaty-social-"+a+" .chaty-title").val()+"'>"+s+"</a>"}function startMakingContactForm(a,s){var t="";t+="<div style='display:none;' class='csaas-outer-forms csaas-contact-form-box csaas-form-"+s+"' data-channel='"+a+"' id='csaas-form-"+s+"-"+a+"' data-widget='"+s+"' data-index='0'>",t+="<div class='csaas-form'>",t+="<div class='csaas-form-body'>",t+="<div role='button' class='close-csaas-form'><div class='csaas-close-button'></div></div>",t+="<div class='csaas-contact-form-body'>",t+="<div class='csaas-contact-form-title'>"+jQuery("#cht_social_message_"+a+"_form_title").val()+"</div>",t+="<div class='csaas-contact-inputs'>",jQuery("#field_for_Contact_Us_name").is(":checked")&&(t+="<div class='csaas-contact-input'>",t+="<input type='text' readonly class='csaas-input-field' placeholder='"+jQuery("#placeholder_for_Contact_Us_name").val()+"' />",t+="</div>"),jQuery("#field_for_Contact_Us_email").is(":checked")&&(t+="<div class='csaas-contact-input'>",t+="<input type='text' readonly class='csaas-input-field' placeholder='"+jQuery("#placeholder_for_Contact_Us_email").val()+"' />",t+="</div>"),jQuery("#field_for_Contact_Us_phone").is(":checked")&&(t+="<div class='csaas-contact-input'>",t+="<input type='text' readonly class='csaas-input-field' placeholder='"+jQuery("#placeholder_for_Contact_Us_phone").val()+"' />",t+="</div>"),jQuery("#field_for_Contact_Us_message").is(":checked")&&(t+="<div class='csaas-contact-input'>",t+="<textarea type='text' readonly class='csaas-textarea-field' placeholder='"+jQuery("#placeholder_for_Contact_Us_message").val()+"' ></textarea>",t+="</div>"),t+="<div class='csaas-contact-form-button'><button type='submit' id='csaas-submit-button-"+s+"' class='csaas-submit-button'>"+jQuery("#button_text_for_"+a).val()+"</button></div>",t+="</div>",t+="</div>",t+="</div>",t+="</div>",t+="</div>",jQuery(".chaty-preview").append(t)}function startMakingWeChatChannel(a,s){var t="";t+="<div style='display:none;' class='csaas-outer-forms csaas-form-"+s+"' data-channel='"+a+"' id='csaas-form-"+s+"-"+a+"' data-widget='"+s+"' data-index='0'>",t+="<div class='csaas-form'>",t+="<div class='csaas-form-body'>",t+="<div role='button' class='close-csaas-form is-whatsapp-btn'><div class='csaas-close-button'></div></div>",t+="<div class='qr-code-image'><img src='"+jQuery("#cht_social_image_src_"+a).attr("src")+"' alt='WeChat' /></div>",t+="</div>",t+="</div>",t+="</div>",jQuery(".chaty-preview").append(t)}function startMakingWhatsAppPopup(a,s){var t="";t+="<div style='display:none;' class='csaas-outer-forms csaas-form-"+s+"' data-channel='"+a+"' id='csaas-form-"+s+"-"+a+"' data-widget='"+s+"' data-index='"+s+"'>",t+="<div class='csaas-whatsapp-form'>",t+="<div class='csaas-whatsapp-body'>",t+="<div role='button' class='close-csaas-form is-whatsapp-btn'><div class='csaas-close-button'></div></div>",t+="<div class='csaas-whatsapp-message'></div>",t+="</div>",t+="<div class='csaas-whatsapp-footer'>",t+="<div class='csaas-whatsapp-data'>",t+="<div class='csaas-whatsapp-field'>",t+="<input name='text' readonly type='text' class='csass-whatsapp-input' />",t+="</div>",t+="<div class='csaas-whatsapp-button'>",t+="<button type='submit'>",t+="<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'><path fill='#ffffff' d='M1.101 21.757L23.8 12.028 1.101 2.3l.011 7.912 13.623 1.816-13.623 1.817-.011 7.912z'></path></svg>",t+="</button>",t+="</div>",t+="</div>",t+="</div>",t+="</div>",t+="</div>",jQuery(".chaty-preview").append(t),jQuery("#csaas-form-"+s+"-"+a+" .csaas-whatsapp-message").html(jQuery(".chaty-whatsapp-setting-textarea").val());var e=jQuery(".pre-set-message-whatsapp").val();isEmpty(a.pre_set_message)||jQuery("#csaas-form-"+s+"-"+a+" .csass-whatsapp-input").val(e),jQuery("#chaty-form-"+s+"-"+a).show()}function isEmpty(a){return null==a||""==a||""==jQuery.trim(a)}function getWidgetPosition(){if("custom"==jQuery("input[name='cht_position']:checked").val()){if("left"==jQuery("input[name='positionSide']:checked").val())return"left"}else if("left"==jQuery("input[name='cht_position']:checked").val())return"left";return"right"}function getToolTipPosition(){var a=getWidgetPosition();if("vertical"==jQuery("input[name='chaty_icons_view']:checked").val());else if(previewChannelList.length>1)return"top";return"right"==a?"left":"right"}function getActiveChannels(){var a=0;if(jQuery("#channels-selected-list > li:not(.chaty-cls-setting)").length){var s=!!jQuery("#previewDesktop").is(":checked");jQuery("#channels-selected-list > li:not(.csaas-cls-setting)").each(function(){jQuery(this).hasClass("has-agent-view")?s&&jQuery(this).find(".agent-desktop-device").is(":checked")?(previewChannelList.push(jQuery(this).data("id")),a++):!s&&jQuery(this).find(".agent-mobile-device").is(":checked")&&(a++,previewChannelList.push(jQuery(this).data("id"))):s&&jQuery(this).find(".js-chanel-desktop").is(":checked")?(a++,previewChannelList.push(jQuery(this).data("id"))):!s&&jQuery(this).find(".js-chanel-mobile").is(":checked")&&(a++,previewChannelList.push(jQuery(this).data("id")))})}return a}jQuery(document).ready(function(){chtIframeData=jQuery("#wp-cta_body_text-wrap").find("iframe").contents().find("body").html(),setInterval(function(){jQuery("#cta-option-chat-view").is(":checked")&&jQuery("#wp-cta_body_text-wrap").length&&(bodyMsg=jQuery("#wp-cta_body_text-wrap").find("iframe").contents().find("body").html())!=chtIframeData&&(chtIframeData=bodyMsg,change_custom_preview())},2e3),jQuery(document).on("click","#save-button",function(){jQuery("#button_type").val(1)}),jQuery(document).on("click","#save-dashboard-button",function(){jQuery("#button_type").val(2)}),jQuery(document).on("click",".custom-channel-button a",function(a){a.preventDefault(),jQuery(".main .channels-icons > .icon.custom-link:not(.active):first").trigger("click"),jQuery(".main .channels-icons > .icon.custom-link").length==jQuery(".main .channels-icons > .icon.custom-link.active").length&&jQuery(".custom-channel-button").hide()}),jQuery(document).on("mouseover",".csaas.open-on-hover .csaas-i-trigger:not(.single-channel)",function(){jQuery(this).closest(".csaas-widget").hasClass("csaas-open")||jQuery(this).closest(".csaas-widget").hasClass("on-csaas-widget")||(jQuery(this).closest(".csaas-widget").addClass("on-csaas-widget"),jQuery(this).find(".csaas-cta-main").trigger("click"))}).on("mouseleave",".csaas.open-on-hover .csaas-i-trigger:not(.single-channel)",function(){jQuery(this).closest(".csaas-widget").hasClass("csaas-open")||jQuery(this).closest(".csaas-widget").removeClass("on-csaas-widget")}),jQuery(document).on("click",".csaas-close-view-list",function(){jQuery(this).closest(".csaas").find(".csaas-widget").removeClass("csaas-open")}),jQuery(document).on("click",".csaas-i-trigger:not(.single-channel)",function(){jQuery(this).closest(".csass").removeClass("form-open"),jQuery(this).closest(".csaas-widget").toggleClass("csaas-open"),jQuery(".csaas-outer-forms").removeClass("active"),jQuery(".form-open").removeClass("form-open"),jQuery(".chaty-preview").height(234)}),jQuery(document).on("click","#whatsapp_embedded_window_Whatsapp",function(){change_custom_preview()}),jQuery(document).on("click","#cht_active",function(){jQuery(this).is(":checked")?(jQuery("#chaty-turned-on").addClass("active"),jQuery("#chaty-turned-off").removeClass("active")):(jQuery("#chaty-turned-off").addClass("active"),jQuery("#chaty-turned-on").removeClass("active"))}),jQuery(document).on("click","a.csaas-whatsapp-form",function(a){a.preventDefault();var s=jQuery(this).data("form");if(!isEmpty(s)&&jQuery("#"+s).length){if(jQuery(this).closest(".csaas").hasClass("form-open"))jQuery("#"+s).removeClass("is-active"),jQuery(this).closest(".csaas-widget").addClass("csaas-open"),jQuery(this).closest(".csaas").removeClass("form-open"),jQuery("#"+s).removeClass("active");else{var t=parseInt(2*jQuery("#custom-widget-size-input").val()/3),e=parseInt(jQuery("#"+s).height()/2)+t+20;e>234&&jQuery(".chaty-preview").height(e+10);var c=jQuery(this).html();jQuery("#"+s).addClass("is-active"),jQuery(this).closest(".csaas-widget").removeClass("csaas-open"),jQuery(this).closest(".csaas").addClass("form-open"),jQuery("#"+s).addClass("active"),jQuery(this).closest(".csaas-widget").find(".open-csaas-channel").html(c)}}}),jQuery(document).on("click",".csaas-close-button, .csaas-close-agent-list",function(a){a.preventDefault(),a.stopPropagation(),jQuery(".csaas-outer-forms").removeClass("active"),jQuery("#csaas-widget-0").removeClass("form-open"),jQuery("#csaas-widget-0").find(".csaas-widget").hasClass("csaas-no-close-button")&&jQuery("#csaas-widget-0").find(".csaas-widget").addClass("csaas-open"),jQuery(".chaty-preview").height(234)}),jQuery(document).on("click","a.csaas-qr-code-form",function(a){a.preventDefault();var s=jQuery(this).data("form");if(!isEmpty(s)&&jQuery("#"+s).length){var t=parseInt(2*jQuery("#custom-widget-size-input").val()/3),e=parseInt(jQuery("#"+s).height()/2)+t+20;e>234&&jQuery(".chaty-preview").height(e+10);var c=jQuery(this).html();jQuery(this).closest(".csaas-widget").removeClass("csaas-open"),jQuery(this).closest(".csaas").addClass("form-open"),jQuery("#"+s).addClass("active"),jQuery(this).closest(".csaas-widget").find(".open-csaas-channel").html(c)}}),jQuery(document).on("click","a.csaas-contact-us-form",function(a){a.preventDefault();var s=jQuery(this).data("form");if(!isEmpty(s)&&jQuery("#"+s).length){var t=parseInt(2*jQuery("#custom-widget-size-input").val()/3),e=parseInt(jQuery("#"+s).height()/2)+t+20;e>234&&(jQuery(".chaty-preview").height(e+10),jQuery(".preview .page").height(e+26));var c=jQuery(this).html();jQuery(this).closest(".csaas-widget").removeClass("csaas-open"),jQuery(this).closest(".csaas").addClass("form-open"),jQuery("#"+s).addClass("active"),jQuery("#"+s).find(".csaas-ajax-success-message").remove(),jQuery("#"+s).find(".csaas-ajax-error-message").remove(),jQuery("#"+s).find(".has-csaas-error").removeClass("has-csaas-error"),jQuery(this).closest(".csaas-widget").find(".open-csaas-channel").html(c)}}),jQuery(document).on("keyup","#cht_social_message_Contact_Us_form_title",function(){jQuery(".csaas-contact-form-title").text(jQuery(this).val())}),jQuery(document).on("keyup","#button_text_for_Contact_Us",function(){jQuery("#csaas-submit-button-0").text(jQuery(this).val())}),jQuery(document).on("keyup","#cta_heading_text",function(){jQuery(".csaas-view-header").text(jQuery(this).val())}),jQuery(document).on("keyup","#cta_body_text",function(){jQuery(".csaas-top-content").text(jQuery(this).val())}),jQuery(document).on("change",".form-field-setting-col input[type='text']",function(){change_custom_preview()}),jQuery(document).on("click",".form-field-setting-col input[type='checkbox']",function(){change_custom_preview()}),jQuery(document).on("change",".chaty-agent-name, #chaty_default_state, input[name='chaty_icons_view']:checked",function(){change_custom_preview()}),jQuery(document).on("keyup","input[name='cht_close_button_text']",function(){change_custom_preview()}),jQuery(document).on("change","input[name='cht_close_button_text']",function(){change_custom_preview()}),jQuery(document).on("click",".chaty-preview input, .chaty-preview button",function(a){a.preventDefault()}),jQuery(document).on("click",".csaas-channel.csaas-agent-button",function(a){a.preventDefault();var s=jQuery(this).data("form");if(!isEmpty(s)&&jQuery("#"+s).length){if(jQuery(this).closest(".csaas").hasClass("form-open"))jQuery(this).closest(".csaas-widget").addClass("csaas-open"),jQuery(this).closest(".csaas").removeClass("form-open"),jQuery("#"+s).removeClass("active");else{var t=parseInt(2*jQuery("#custom-widget-size-input").val()/3),e=parseInt(jQuery("#"+s).height()/2)+t+20;e>234&&(jQuery(".chaty-preview").height(e+10),jQuery(".preview .page").height(e+26));var c=jQuery(this).html();jQuery("#"+s).addClass("is-active"),jQuery(this).closest(".csaas-widget").removeClass("csaas-open"),jQuery(this).closest(".csaas").addClass("form-open"),jQuery("#"+s).addClass("active"),jQuery(this).closest(".csaas-widget").find(".open-csaas-channel").html(c)}}}),jQuery(document).on("click","#trigger_on_time, #chaty_trigger_on_scroll, #cht_close_button",function(){change_custom_preview()}),jQuery(".chaty-color-field.chaty-bg-color").trigger("change"),change_custom_preview()}),jQuery(window).on("load",function(){jQuery(".chaty-color-field.chaty-bg-color").trigger("change")});